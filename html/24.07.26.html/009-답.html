<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>★할일2★</title>
</head>
<body>
    
    <input type="text" id="title" placeholder="할일 입력">
    <button onclick="addTodo()">추가</button>
    
    <hr>
    
    <table>
        <thead>
            <tr>
                <th>번호</th>
                <th>할일</th>
                <th>작성일</th>
                <th></th>
            </tr>
        </thead>
        <tbody id="target">
        </tbody>
    </table>
    
    <script>
        
        const todos=[{tno:1, title:'운동하기', day:'2024-07-26'}];
        let tno = 1;
       
        function addTodo() {
            const title = document.getElementById('title').value;
            const dateObject = new Date();
            const day = dateObject.toLocaleDateString()
            const newTodo = {tno:tno, title:title, day:day};
            tno++; 
            todos.push(newTodo);
            printTodos();
        }
        
        function deleteTodo(인덱스) {
            todos.splice(인덱스, 1);
            printTodos();
        }
        
        function printTodos() {
          const target = document.getElementById('target');
          target.innerHTML ='';
            for(let i=0;i<todos.length;i++) {
                const html = `
                <tr>
                    <td>${todos[i].tno}</td>
                    <td>${todos[i].title}</td>
                    <td>${todos[i].day}</td>
                    <td><button onclick='deleteTodo(${i})'>삭제</button></td>
                </tr>
                `;
                target.innerHTML = target.innerHTML + html;
            }
        }
        
        printTodos();

    </script>
</body>
</html>